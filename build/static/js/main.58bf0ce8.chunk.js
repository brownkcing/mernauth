(this["webpackJsonpmern-auth-test"]=this["webpackJsonpmern-auth-test"]||[]).push([[0],{171:function(e,n,t){},172:function(e,n,t){"use strict";t.r(n);var a,c,r,i,o,s,l,d,b,j,u,h,O,m,p,f,g,x,v,w,y,k,S,F,N,C,D,z,A,E,P=t(0),T=t(56),R=t.n(T),U=(t(65),t(3)),I=t(4),J=Object(I.a)(a||(a=Object(U.a)(['\n@import url(\'https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;700&family=Roboto:wght@300;400;700&display=swap\')\n  html {\n    -ms-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    box-sizing: border-box\n \n  }\n\n body {\n    display: flex;\n    justify-content: center;\n    overflow: auto;\n    margin: 0;\n    margin-top: 5em;\n    padding: 0;\n    font-family: "Roboto", sans-serif;\n }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-family: "Poppins", sans-serif;\n    font-weight: 500;\n  }\n\n  input {\n    font-size: 1rem;\n    height: 2em;\n    background: transparent;\n    border: none;\n    border-bottom: 1px solid gray;\n    width: 100%;\n    &:focus {\n      outline-width: 0;\n      border-bottom: 2px solid gray;\n    }\n  }\n\n  label {\n    color: gray;\n    font-family: "Poppins", sans-serif;\n    font-size: 1.2rem;\n    text-align: initial;\n    display: block;\n    margin-bottom: .5rem;\n  }\n']))),W={menuMax:1382,custom:1200,desktopPlus:994,desktop:992,tablet:768,phone:576},q=(Object.keys(W).reduce((function(e,n){return e[n]=function(){return Object(I.b)(c||(c=Object(U.a)(["\n    @media (max-width: ","em) {\n      ","\n    }\n  "])),W[n]/16,I.b.apply(void 0,arguments))},e}),{}),Object.keys(W).reduce((function(e,n){return e[n]=function(){return Object(I.b)(r||(r=Object(U.a)(["\n    @media (min-width: ","em) {\n      ","\n    }\n  "])),W[n]/16,I.b.apply(void 0,arguments))},e}),{})),B=(Object(I.b)(i||(i=Object(U.a)(["\n    display: flex;\n"]))),Object(I.b)(o||(o=Object(U.a)(["\n    z-index: 2;\n    position: relative;\n    width: auto;\n    height: auto;\n    margin-right: auto;\n    margin-left: auto;\n    ",";\n    ",";\n    ","; \n    ",";\n"])),q.phone(s||(s=Object(U.a)(["\n        max-width: 540px;\n    "]))),q.tablet(l||(l=Object(U.a)(["\n        max-width: 720px;\n    "]))),q.desktop(d||(d=Object(U.a)(["\n        max-width: 960px;\n    "]))),q.menuMax(b||(b=Object(U.a)(["\n        max-width: 1140px;\n    "]))))),H=(Object(I.b)(j||(j=Object(U.a)(["\n    display: flex;\n"]))),Object(I.b)(u||(u=Object(U.a)(["\n    margin: 0.5em;\n    padding: 0.7em 7em;\n    display: inline-block;\n    background-color: #3F98FF;\n    border-color: #3F98FF;\n    font-size: 1rem;\n    font-weight: 400;\n    cursor: pointer;\n    line-height: 1.5;\n    border-radius: .25rem;\n    border: none;\n    &:focus {\n        color: white;\n        outline-color: #3F98FF;\n"])))),L=t(10),M=t(5),_=t(22),$=t.n(_),G=t(14),K=t.n(G),Q=t(23),V=t.n(Q),X=t(29),Y=t.n(X),Z="http://localhost:8080/api/auth/",ee=function(e,n,t){return Y.a.post(Z+"signup",{username:e,email:n,password:t})},ne=function(e,n){return Y.a.post(Z+"signin",{username:e,password:n}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},te=function(){localStorage.removeItem("user")},ae=function(){return JSON.parse(localStorage.getItem("user"))},ce=t(60),re=t(2),ie=I.c.div(h||(h=Object(U.a)(["\n    transition: all 0.3s linear;\n    display:block;\n"]))),oe=Object(I.c)($.a)(O||(O=Object(U.a)(["\n    height: 100%;\n    width: 75%;\n    padding: 1em 3em;\n"]))),se=I.c.div(m||(m=Object(U.a)(["\n    padding-bottom: 2em;\n"]))),le=I.c.h1(p||(p=Object(U.a)(["\n    align-self:center;\n"]))),de=Object(I.c)(V.a)(f||(f=Object(U.a)(["\n    ",";\n"])),H),be=function(e){if(!e)return Object(re.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},je=function(e){if(!Object(ce.isEmail)(e))return Object(re.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},ue=function(e){if(e.length<3||e.length>20)return Object(re.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},he=function(e){if(e.length<6||e.length>40)return Object(re.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},Oe=function(e){var n=Object(P.useRef)(),t=Object(P.useRef)(),a=Object(P.useState)(""),c=Object(L.a)(a,2),r=c[0],i=c[1],o=Object(P.useState)(""),s=Object(L.a)(o,2),l=s[0],d=s[1],b=Object(P.useState)(""),j=Object(L.a)(b,2),u=j[0],h=j[1],O=Object(P.useState)(!1),m=Object(L.a)(O,2),p=m[0],f=m[1],g=Object(P.useState)(""),x=Object(L.a)(g,2),v=x[0],w=x[1];return Object(re.jsxs)(ie,{children:[Object(re.jsx)(le,{children:"Sign-Up"}),Object(re.jsxs)(oe,{onSubmit:function(e){e.preventDefault(),w(""),f(!1),n.current.validateAll(),0===t.current.context._errors.length&&ee(r,l,u).then((function(e){w(e.data.message),f(!0)}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();w(n),f(!1)}))},ref:n,children:[Object(re.jsxs)(se,{children:[Object(re.jsx)("label",{children:"Username"}),Object(re.jsx)(K.a,{type:"text",className:"form-control",name:"username",value:r,onChange:function(e){var n=e.target.value;i(n)},validations:[be,ue]})]}),Object(re.jsxs)(se,{children:[Object(re.jsx)("label",{children:"Email Address"}),Object(re.jsx)(K.a,{type:"text",className:"form-control",name:"email",value:l,onChange:function(e){var n=e.target.value;d(n)},validations:[be,je]})]}),Object(re.jsxs)(se,{children:[Object(re.jsx)("label",{children:"Password"}),Object(re.jsx)(K.a,{type:"password",className:"form-control",name:"password",value:u,onChange:function(e){var n=e.target.value;h(n)},validations:[be,he]})]}),Object(re.jsx)(de,{ref:t,style:{color:"black"},children:"Submit"}),v&&Object(re.jsx)("div",{className:"form-group",children:Object(re.jsx)("div",{style:{color:p?"#5cb85c":"#d9534f"},role:"alert",children:v})})]})]})},me=I.c.div(g||(g=Object(U.a)(["\n    display:block;\n"]))),pe=Object(I.c)($.a)(x||(x=Object(U.a)(["\n    height: 100%;\n    width: 75%;\n    padding: 1em 3em;\n"]))),fe=I.c.div(v||(v=Object(U.a)(["\n    padding-bottom: 2em;\n"]))),ge=I.c.h1(w||(w=Object(U.a)(["\n    align-self:center;\n"]))),xe=I.c.div(y||(y=Object(U.a)(["\n    margin-bottom: 4em;\n    a {\n        text-decoration: none;\n        color: #3F98FF;\n        :hover {\n            color: #90C4FF;\n        }\n    }\n"]))),ve=Object(I.c)(V.a)(k||(k=Object(U.a)(["\n    ",";\n"])),H),we=function(e){if(!e)return Object(re.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},ye=function(e){var n=Object(P.useRef)(),t=Object(P.useRef)(),a=Object(P.useState)(""),c=Object(L.a)(a,2),r=c[0],i=c[1],o=Object(P.useState)(""),s=Object(L.a)(o,2),l=s[0],d=s[1],b=Object(P.useState)(!1),j=Object(L.a)(b,2),u=j[0],h=j[1],O=Object(P.useState)(""),m=Object(L.a)(O,2),p=m[0],f=m[1];return Object(re.jsxs)(me,{children:[Object(re.jsx)(ge,{children:"Login"}),Object(re.jsxs)(pe,{onSubmit:function(a){a.preventDefault(),f(""),h(!0),n.current.validateAll(),0===t.current.context._errors.length?ne(r,l).then((function(){e.history.push("/User"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();h(!1),f(n)})):h(!1)},ref:n,children:[Object(re.jsxs)(fe,{children:[Object(re.jsx)("label",{children:"Username"}),Object(re.jsx)(K.a,{type:"text",className:"form-control",name:"username",value:r,onChange:function(e){var n=e.target.value;i(n)},validations:[we]})]}),Object(re.jsxs)(fe,{children:[Object(re.jsx)("label",{children:"Password"}),Object(re.jsx)(K.a,{type:"password",className:"form-control",name:"password",value:l,onChange:function(e){var n=e.target.value;d(n)},validations:[we]})]}),Object(re.jsxs)(ve,{ref:t,disabled:u,style:{color:"black"},children:[u,"Submit"]}),Object(re.jsx)("div",{style:{color:"red"},children:p}),Object(re.jsxs)(xe,{children:["Forgot ",Object(re.jsx)("a",{href:"#",children:"Password?"})]})]})]})},ke=t(16),Se=I.c.ul(S||(S=Object(U.a)(["\n    display: flex;\n    margin:0;\n    padding:0;\n    width: 100%;\n    list-style-type:none;\n    justify-content:space-around;\n    background:#DDDDDD;\n    border-radius: 1em 1em 0 0;\n"]))),Fe=I.c.li(F||(F=Object(U.a)(['\n    display:inline-block;\n    width: 100%;\n    a {\n        display:block;\n        line-height: 4em;\n        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n        text-decoration: none;\n        :active {\n            color:grey;\n        }\n    }\n']))),Ne=Object(I.c)(ke.b)(N||(N=Object(U.a)(["\n    background-color: #EAEAEA;\n    box-shadow: 0px 0px 5px inset #DCDCDC;\n"])));function Ce(){return Object(re.jsxs)(Se,{children:[Object(re.jsx)(Fe,{children:Object(re.jsx)(Ne,{activeStyle:{boxShadow:"none",backgroundColor:"white"},to:"/signup",children:"Sign-Up"})}),Object(re.jsx)(Fe,{children:Object(re.jsx)(Ne,{activeStyle:{boxShadow:"none",backgroundColor:"white"},to:"/login",children:"Login"})})]})}var De,ze,Ae,Ee,Pe=I.c.div(C||(C=Object(U.a)(["\n    display:flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    background: linear-gradient(-45deg, #1391a5, #274685);\n    color: #fff;\n    padding: 0;\n    color: #000000;\n    background: #fff;\n    box-shadow: 0 10px 30px 0 rgb(0 0 0 / 20%);\n    border-radius: 1.5em;\n"]))),Te=I.c.div(D||(D=Object(U.a)(["\n    ","\n    display:flex;\n    flex-wrap: nowrap;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n"])),B),Re=I.c.div(z||(z=Object(U.a)(["\n    display:block;\n    height: 30vh;\n"]))),Ue=I.c.div(A||(A=Object(U.a)(["\n    padding: 2em;\n    label {\n        text-align: center;\n    }\n"]))),Ie=I.c.h1(E||(E=Object(U.a)(["\n    align-self:center;\n"]))),Je=function(){var e=ae();return Object(re.jsxs)(Pe,{children:[Object(re.jsxs)(Ie,{children:["Welcome ",e.username]}),Object(re.jsx)(Te,{children:Object(re.jsxs)(Re,{children:[Object(re.jsx)(Ue,{children:Object(re.jsxs)("label",{children:["This is ",e.username," authenticated personal page."]})}),Object(re.jsxs)(Ue,{children:[Object(re.jsx)("span",{children:"Click to"})," ",Object(re.jsx)("a",{href:"/login",onClick:function(){te()},children:"logout"})," ",Object(re.jsx)("span",{children:"and return back to previous page"})]})]})})]})},We=I.c.div(De||(De=Object(U.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content:center;\n    background: linear-gradient(-45deg, #1391a5, #274685);\n    color: #fff;\n    padding: 0;\n    color: #000000;\n    background: #fff;\n    box-shadow: 0 10px 30px 0 rgb(0 0 0 / 20%);\n    border-radius: 1.5em;\n"]))),qe=I.c.div(ze||(ze=Object(U.a)(["\n    ","\n    width: 100%;\n    height: 100%;\n"])),B),Be=function(){var e=Object(P.useState)(void 0),n=Object(L.a)(e,2),t=(n[0],n[1]);return Object(P.useEffect)((function(){var e=ae();e&&t(e)}),[]),Object(re.jsxs)(We,{children:[Object(re.jsx)(Ce,{}),Object(re.jsx)(qe,{children:Object(re.jsxs)(M.d,{children:[Object(re.jsx)(M.b,{exact:!0,path:"/signup",component:Oe}),Object(re.jsx)(M.b,{exact:!0,path:"/",component:Oe,children:Object(re.jsx)(M.a,{to:"/signup"})}),Object(re.jsx)(M.b,{path:"/login",component:ye})]})})]})},He=(t(171),I.c.div(Ae||(Ae=Object(U.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  width: 55vh;\n"])))),Le=I.c.div(Ee||(Ee=Object(U.a)(["\n  ","\n  \n"])),B);var Me=function(){return Object(re.jsxs)("div",{className:"App",children:[Object(re.jsx)(J,{}),Object(re.jsx)(He,{children:Object(re.jsx)(Le,{children:Object(re.jsxs)(M.d,{children:[Object(re.jsx)(M.b,{exact:!0,path:"/user",component:Je}),Object(re.jsx)(Be,{})]})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));R.a.render(Object(re.jsx)(ke.a,{children:Object(re.jsx)(Me,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,n,t){}},[[172,1,2]]]);
//# sourceMappingURL=main.58bf0ce8.chunk.js.map